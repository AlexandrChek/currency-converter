(function(){"use strict";var e={8799:function(e,t,r){var i=r(9242),n=r(3396);const c={class:"converter"},s={class:"current-prices"};function o(e,t,r,i,o,a){const l=(0,n.up)("MainTitle"),u=(0,n.up)("CurConverter"),d=(0,n.up)("CurrentPrices");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("header",null,[(0,n.Wm)(l)]),(0,n._)("main",null,[(0,n._)("section",c,[(0,n.Wm)(u)]),(0,n._)("section",s,[(0,n.Wm)(d)])]),(0,n._)("footer",null,[(0,n.Wm)(l)])],64)}function a(e,t,r,i,c,s){return(0,n.wg)(),(0,n.iD)("h2",null,"Light Currency Converter")}var l={name:"MainTitle"},u=r(89);const d=(0,u.Z)(l,[["render",a],["__scopeId","data-v-7097cc16"]]);var h=d,p=r(7139);const C=e=>((0,n.dD)("data-v-4270fe10"),e=e(),(0,n.Cn)(),e),y=C((()=>(0,n._)("h4",null,"Currency converter",-1))),f={class:"scope"},g=C((()=>(0,n._)("label",{for:"initial-scope"},"Initial scope",-1))),v={class:"scope"},m=C((()=>(0,n._)("p",{class:"scope-label"},"Final scope",-1))),S={class:"final-scope"},_=C((()=>(0,n._)("p",{class:"restriction"}," The final scope should not exceed $10,000! ",-1)));function w(e,t,r,c,s,o){const a=(0,n.up)("CurrencySelector");return(0,n.wg)(),(0,n.iD)(n.HY,null,[y,(0,n._)("article",null,[(0,n.Wm)(a,{defaultCurrency:s.initialCurrency,onSelectCurrency:o.saveInitialCurrency},{default:(0,n.w5)((()=>[(0,n.Uk)(" Initial currency ")])),_:1},8,["defaultCurrency","onSelectCurrency"]),(0,n.Wm)(a,{defaultCurrency:s.finalCurrency,onSelectCurrency:o.saveFinalCurrency},{default:(0,n.w5)((()=>[(0,n.Uk)(" Final currency ")])),_:1},8,["defaultCurrency","onSelectCurrency"])]),(0,n._)("article",null,[(0,n._)("div",f,[g,(0,n.wy)((0,n._)("input",{type:"text",id:"initial-scope","onUpdate:modelValue":t[0]||(t[0]=e=>s.initialScope=e),onInput:t[1]||(t[1]=(...e)=>o.checking&&o.checking(...e)),onFocus:t[2]||(t[2]=(...e)=>o.inputFocus&&o.inputFocus(...e)),onBlur:t[3]||(t[3]=(...e)=>o.inputBlur&&o.inputBlur(...e))},null,544),[[i.nr,s.initialScope]])]),(0,n._)("div",v,[m,(0,n._)("div",S,(0,p.zw)(s.finalScope),1)]),_])],64)}const b={for:"currency"};function k(e,t,r,c,s,o){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("label",b,[(0,n.WI)(e.$slots,"default",{},void 0,!0)]),(0,n.wy)((0,n._)("select",{id:"currency","onUpdate:modelValue":t[0]||(t[0]=e=>s.currency=e)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.currencies,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e},(0,p.zw)(e),1)))),128))],512),[[i.bM,s.currency]])])}var U={name:"CurrencySelector",props:["defaultCurrency"],data(){return{currencies:this.$store.state.currencies,currency:this.defaultCurrency}},watch:{currency(e){this.$emit("selectCurrency",e)}}};const D=(0,u.Z)(U,[["render",k],["__scopeId","data-v-1460071f"]]);var M=D,I={name:"CurConverter",components:{CurrencySelector:M},data(){return{initialCurrency:"USD",finalCurrency:"BTC",initialScope:0,finalScope:0,curInUsd:0,cryptoInUsd:0}},methods:{saveInitialCurrency(e){this.initialCurrency=e,this.initialScope>0&&this.checking()},saveFinalCurrency(e){this.finalCurrency=e,this.initialScope>0&&this.checking()},inputFocus(){0===this.initialScope&&(this.initialScope="")},inputBlur(){""===this.initialScope&&(this.initialScope=0)},checking(){const e=new Map(this.$store.state.crypto);if(e.has(this.initialCurrency)){let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.initialCurrency);fetch(t).then((e=>e.json())).then((t=>{this.initialScope*t[0].price_usd>1e4?this.highlighting():(this.cryptoInUsd=this.initialScope*t[0].price_usd,this.convert(e))}))}else if("USD"===this.initialCurrency)this.initialScope>1e4?this.highlighting():this.convert(e);else{let t="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.initialCurrency+"/USD/"+this.initialScope;fetch(t).then((e=>e.json())).then((t=>{t.conversion_result>1e4?this.highlighting():(this.curInUsd=t.conversion_result,this.convert(e))}))}},convert(e){if(e.has(this.initialCurrency)||e.has(this.finalCurrency))if(!e.has(this.initialCurrency)&&e.has(this.finalCurrency)){let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.finalCurrency);"USD"===this.initialCurrency?fetch(t).then((e=>e.json())).then((e=>this.finalScope=(this.initialScope/e[0].price_usd).toFixed(7))):fetch(t).then((e=>e.json())).then((e=>this.finalScope=(this.curInUsd/e[0].price_usd).toFixed(7)))}else if(e.has(this.initialCurrency)&&!e.has(this.finalCurrency))if("USD"===this.finalCurrency)this.finalScope=this.cryptoInUsd.toFixed(4);else{let e="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.finalCurrency+"/USD/";fetch(e).then((e=>e.json())).then((e=>this.finalScope=(this.cryptoInUsd*e.conversion_rate).toFixed(4)))}else{let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.finalCurrency);fetch(t).then((e=>e.json())).then((e=>this.finalScope=(this.cryptoInUsd/e[0].price_usd).toFixed(7)))}else{let e="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.initialCurrency+"/"+this.finalCurrency+"/"+this.initialScope;fetch(e).then((e=>e.json())).then((e=>this.finalScope=e.conversion_result.toFixed(4)))}let t=document.querySelector(".restriction");t.style.color="rgb(65, 57, 57)"},highlighting(){let e=document.querySelector(".restriction");e.style.color="red"}}};const x=(0,u.Z)(I,[["render",w],["__scopeId","data-v-4270fe10"]]);var B=x;const O=e=>((0,n.dD)("data-v-6bb32132"),e=e(),(0,n.Cn)(),e),F=O((()=>(0,n._)("h4",null,"Current prices",-1))),P={class:"base-currency"},j=O((()=>(0,n._)("label",{for:"currency"},"Base currency",-1))),$=O((()=>(0,n._)("h5",null,"Target Currencies",-1))),T=["onClick"],E={class:"price"},W={class:"btn-wrapper"},H={key:0};function A(e,t,r,c,s,o){const a=(0,n.up)("MyButton"),l=(0,n.up)("myButton"),u=(0,n.up)("AddCurModal"),d=(0,n.up)("DelModal");return(0,n.wg)(),(0,n.iD)(n.HY,null,[F,(0,n._)("article",P,[j,(0,n.wy)((0,n._)("select",{id:"currency","onUpdate:modelValue":t[0]||(t[0]=e=>s.baseCurrency=e),onChange:t[1]||(t[1]=(...e)=>o.getCurPrices&&o.getCurPrices(...e))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.baseCurrencies,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e},(0,p.zw)(e),1)))),128))],544),[[i.bM,s.baseCurrency]])]),(0,n._)("article",null,[$,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.prices,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:"target"},[(0,n._)("p",{class:(0,p.C_)(["target-item",{added:s.added.includes(e.currency)}]),onClick:t=>o.showDelModal(e.currency)},(0,p.zw)(e.currency)+" in "+(0,p.zw)(s.baseCurrency),11,T),(0,n._)("div",E,(0,p.zw)(e.price),1)])))),128)),(0,n._)("div",W,[(0,n.Wm)(a,{onClick:t[2]||(t[2]=e=>s.addCurMod=!0)},{default:(0,n.w5)((()=>[(0,n.Uk)("Add Currency")])),_:1}),(0,n.Wm)(l,{id:"update-btn",class:(0,p.C_)({"disabled-button":s.disabledUpdate}),onClick:o.update},{default:(0,n.w5)((()=>[(0,n.Uk)(" Update "),s.disabledUpdate?((0,n.wg)(),(0,n.iD)("span",H,(0,p.zw)(s.timer),1)):(0,n.kq)("",!0)])),_:1},8,["class","onClick"])]),s.addCurMod?((0,n.wg)(),(0,n.j4)(u,{key:0,onCurrencySelected:o.addCurrency,onPressClose:t[3]||(t[3]=e=>s.addCurMod=!1)},null,8,["onCurrencySelected"])):(0,n.kq)("",!0),s.delCurMod?((0,n.wg)(),(0,n.j4)(d,{key:1,toDel:s.toDel,onRemovePressed:o.delCurrency,onPressClose:t[4]||(t[4]=e=>s.delCurMod=!1)},null,8,["toDel","onRemovePressed"])):(0,n.kq)("",!0)])],64)}r(7658);function z(e,t,r,i,c,s){return(0,n.wg)(),(0,n.iD)("button",null,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var N={name:"MyButton"};const R=(0,u.Z)(N,[["render",z],["__scopeId","data-v-73c5fd5c"]]);var Z=R;function q(e,t,r,c,s,o){const a=(0,n.up)("CurrencySelector"),l=(0,n.up)("MyButton");return(0,n.wg)(),(0,n.iD)("div",{class:"background-mod",onClick:t[1]||(t[1]=(...e)=>o.close&&o.close(...e))},[(0,n._)("div",{class:"modal-window",onClick:t[0]||(t[0]=(0,i.iM)((()=>{}),["stop"]))},[(0,n.Wm)(a,{class:"selector-mod",onSelectCurrency:o.saveCurrancy},{default:(0,n.w5)((()=>[(0,n.Uk)("Choose currency")])),_:1},8,["onSelectCurrency"]),(0,n._)("div",null,[(0,n.Wm)(l,{class:"btn-mod",onClick:o.close},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"])])])])}var J={name:"AddCurModal",components:{CurrencySelector:M,MyButton:Z},methods:{saveCurrancy(e){if(this.$emit("currencySelected",e),localStorage.getItem("addedCurrencies")){let t=JSON.parse(localStorage.getItem("addedCurrencies")),r=new Set(t);r.add(e),t=[...r],localStorage.setItem("addedCurrencies",JSON.stringify(t))}else{let t=[e];localStorage.setItem("addedCurrencies",JSON.stringify(t))}this.$emit("pressClose")},close(){this.$emit("pressClose")}}};const Y=(0,u.Z)(J,[["render",q],["__scopeId","data-v-8dd7dc98"]]);var K=Y;function L(e,t,r,c,s,o){const a=(0,n.up)("MyButton");return(0,n.wg)(),(0,n.iD)("div",{class:"background-mod",onClick:t[1]||(t[1]=(...e)=>o.close&&o.close(...e))},[(0,n._)("div",{class:"modal-window",onClick:t[0]||(t[0]=(0,i.iM)((()=>{}),["stop"]))},[(0,n._)("p",null,"Do you want to remove "+(0,p.zw)(r.toDel)+" from Target Currencies?",1),(0,n._)("div",null,[(0,n.Wm)(a,{class:"btn-mod",onClick:o.removeFromLocalSt},{default:(0,n.w5)((()=>[(0,n.Uk)("Remove")])),_:1},8,["onClick"]),(0,n.Wm)(a,{class:"btn-mod",onClick:o.close},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"])])])])}var V={name:"DelModal",components:{MyButton:Z},props:["toDel"],methods:{removeFromLocalSt(){this.$emit("removePressed",this.toDel);let e=JSON.parse(localStorage.getItem("addedCurrencies")),t=e.indexOf(this.toDel);e.splice(t,1),0===e.length?localStorage.removeItem("addedCurrencies"):localStorage.setItem("addedCurrencies",JSON.stringify(e)),this.$emit("pressClose")},close(){this.$emit("pressClose")}}};const X=(0,u.Z)(V,[["render",L],["__scopeId","data-v-193e8efe"]]);var G=X,Q={name:"CurrentPrices",components:{MyButton:Z,AddCurModal:K,DelModal:G},data(){return{baseCurrencies:["USD","EUR","UAH"],baseCurrency:"USD",baseCurrencyInUsd:1,targetCurrencies:["USD","EUR","UAH"],targetCrypto:[["BTC",90],["ETH",80]],prices:[],added:[],curError:!1,addCurMod:!1,disabledUpdate:!1,timer:5,toDel:"",delCurMod:!1}},mounted(){this.checkAddedCur(),this.getCurPrices()},methods:{checkAddedCur(){if(localStorage.getItem("addedCurrencies")){this.added=JSON.parse(localStorage.getItem("addedCurrencies"));const e=new Map(this.$store.state.crypto);if(1===this.added.length){let t=this.added[0];e.has(t)?this.addSavedCrypto(e,t):this.targetCurrencies.push(t)}else this.added.forEach((t=>{e.has(t)?this.addSavedCrypto(e,t):this.targetCurrencies.push(t)}))}},getCurPrices(){this.prices=[],this.targetCurrencies.forEach((e=>{let t="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+e+"/"+this.baseCurrency+"/";fetch(t).then((e=>e.json())).then((t=>{let r=t.conversion_rate.toFixed(7),i={};i.id=this.$store.state.currencies.indexOf(e),i.currency=e,i.price=r,this.prices.push(i),"USD"===e&&(this.baseCurrencyInUsd=1/t.conversion_rate,this.getCryptoPrices()),this.prices.length===this.targetCurrencies.length+this.targetCrypto.length&&(this.prices=this.prices.sort(((e,t)=>e.id-t.id)))})).catch((e=>{if(e){if(this.curError)return;this.curError=!0,this.getCryptoPrices()}}))}))},getCryptoPrices(){let e=new Map(this.targetCrypto);e.forEach(((e,t)=>{let r="https://api.coinlore.net/api/ticker/?id="+e;fetch(r).then((e=>e.json())).then((e=>{let r=(e[0].price_usd/this.baseCurrencyInUsd).toFixed(7),i={};i.id=this.$store.state.currencies.indexOf(t),i.currency=t,i.price=r,this.prices.push(i),this.prices.length===this.targetCurrencies.length+this.targetCrypto.length&&(this.prices=this.prices.sort(((e,t)=>e.id-t.id)))}))}))},addCurrency(e){const t=new Map(this.$store.state.crypto),r=new Map(this.targetCrypto),i=new Set(this.targetCurrencies);if(!r.has(e)&&!i.has(e))if(this.added.push(e),t.has(e)){let r=t.get(e),i="https://api.coinlore.net/api/ticker/?id="+r;fetch(i).then((e=>e.json())).then((t=>{let r=(t[0].price_usd/this.baseCurrencyInUsd).toFixed(7),i={};i.id=this.$store.state.currencies.indexOf(e),i.currency=e,i.price=r,this.prices.push(i)}))}else{let t="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+e+"/"+this.baseCurrency+"/";fetch(t).then((e=>e.json())).then((t=>{let r=t.conversion_rate.toFixed(7),i={};i.id=this.$store.state.currencies.indexOf(e),i.currency=e,i.price=r,this.prices.push(i)}))}},addSavedCrypto(e,t){let r=e.get(t),i=[t,r];this.targetCrypto.push(i)},update(){this.checkAddedCur(),this.getCurPrices();const e=document.querySelector("#update-btn");e.disabled=!0,this.disabledUpdate=!0;let t=4;setInterval((()=>{this.timer=t,t--}),1e3),setTimeout(this.anableBtn,5e3,e)},anableBtn(e){e.disabled=!1,this.disabledUpdate=!1},showDelModal(e){this.added.includes(e)&&(this.toDel=e,this.delCurMod=!0)},delCurrency(e){let t;this.prices.forEach(((r,i)=>{r.currency===e&&(t=i)})),this.prices.splice(t,1)}}};const ee=(0,u.Z)(Q,[["render",A],["__scopeId","data-v-6bb32132"]]);var te=ee,re={name:"App",components:{MainTitle:h,CurConverter:B,CurrentPrices:te}};const ie=(0,u.Z)(re,[["render",o]]);var ne=ie,ce=r(65),se=(0,ce.MT)({state:{currencies:["USD","EUR","UAH","GBP","BTC","ETH","BNB","XRP"],crypto:[["BTC",90],["ETH",80],["BNB",2710],["XRP",58]]},getters:{},mutations:{},actions:{},modules:{}});(0,i.ri)(ne).use(se).mount("#app")}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var c=t[i]={exports:{}};return e[i](c,c.exports,r),c.exports}r.m=e,function(){var e=[];r.O=function(t,i,n,c){if(!i){var s=1/0;for(u=0;u<e.length;u++){i=e[u][0],n=e[u][1],c=e[u][2];for(var o=!0,a=0;a<i.length;a++)(!1&c||s>=c)&&Object.keys(r.O).every((function(e){return r.O[e](i[a])}))?i.splice(a--,1):(o=!1,c<s&&(s=c));if(o){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}c=c||0;for(var u=e.length;u>0&&e[u-1][2]>c;u--)e[u]=e[u-1];e[u]=[i,n,c]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,c,s=i[0],o=i[1],a=i[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(a)var u=a(r)}for(t&&t(i);l<s.length;l++)c=s[l],r.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return r.O(u)},i=self["webpackChunkllc"]=self["webpackChunkllc"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(8799)}));i=r.O(i)})();
//# sourceMappingURL=app.97299747.js.map