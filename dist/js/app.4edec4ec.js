(function(){"use strict";var e={2311:function(e,t,r){var i=r(9242),n=r(3396);const c={class:"converter"},s={class:"current-prices"};function o(e,t,r,i,o,a){const l=(0,n.up)("MainTitle"),u=(0,n.up)("CurConverter"),d=(0,n.up)("CurrentPrices");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("header",null,[(0,n.Wm)(l)]),(0,n._)("main",null,[(0,n._)("section",c,[(0,n.Wm)(u)]),(0,n._)("section",s,[(0,n.Wm)(d)])]),(0,n._)("footer",null,[(0,n.Wm)(l)])],64)}function a(e,t,r,i,c,s){return(0,n.wg)(),(0,n.iD)("h2",null,"Light Currency Converter")}var l={name:"MainTitle"},u=r(89);const d=(0,u.Z)(l,[["render",a],["__scopeId","data-v-183024b0"]]);var h=d,p=r(7139);const C=e=>((0,n.dD)("data-v-373c05f4"),e=e(),(0,n.Cn)(),e),f=C((()=>(0,n._)("h4",null,"Currency converter",-1))),y={class:"scope"},v=C((()=>(0,n._)("label",{for:"initial-scope"},"Initial scope",-1))),g={class:"scope"},m=C((()=>(0,n._)("p",{class:"scope-label"},"Final scope",-1))),S=C((()=>(0,n._)("p",{class:"restriction"}," The final scope should not exceed $10,000! ",-1)));function _(e,t,r,c,s,o){const a=(0,n.up)("CurrencySelector"),l=(0,n.up)("InfoOutput");return(0,n.wg)(),(0,n.iD)(n.HY,null,[f,(0,n._)("article",null,[(0,n.Wm)(a,{defaultCurrency:s.initialCurrency,onSelectCurrency:o.saveInitialCurrency},{default:(0,n.w5)((()=>[(0,n.Uk)(" Initial currency ")])),_:1},8,["defaultCurrency","onSelectCurrency"]),(0,n.Wm)(a,{defaultCurrency:s.finalCurrency,onSelectCurrency:o.saveFinalCurrency},{default:(0,n.w5)((()=>[(0,n.Uk)(" Final currency ")])),_:1},8,["defaultCurrency","onSelectCurrency"])]),(0,n._)("article",null,[(0,n._)("div",y,[v,(0,n.wy)((0,n._)("input",{type:"number",id:"initial-scope","onUpdate:modelValue":t[0]||(t[0]=e=>s.initialScope=e),onInput:t[1]||(t[1]=(...e)=>o.convert&&o.convert(...e)),onFocus:t[2]||(t[2]=(...e)=>o.inputFocus&&o.inputFocus(...e)),onBlur:t[3]||(t[3]=(...e)=>o.inputBlur&&o.inputBlur(...e))},null,544),[[i.nr,s.initialScope]])]),(0,n._)("div",g,[m,(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)(s.finalScope),1)])),_:1})]),S])],64)}const w={for:"currency"};function b(e,t,r,c,s,o){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("label",w,[(0,n.WI)(e.$slots,"default",{},void 0,!0)]),(0,n.wy)((0,n._)("select",{id:"currency","onUpdate:modelValue":t[0]||(t[0]=e=>s.currency=e)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.currencies,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e},(0,p.zw)(e),1)))),128))],512),[[i.bM,s.currency]])])}var k={name:"CurrencySelector",props:["defaultCurrency"],data(){return{currencies:this.$store.state.currencies,currency:this.defaultCurrency}},watch:{currency(e){this.$emit("selectCurrency",e)}}};const D=(0,u.Z)(k,[["render",b],["__scopeId","data-v-1460071f"]]);var U=D;function M(e,t,r,i,c,s){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var I={name:"InfoOutput"};const x=(0,u.Z)(I,[["render",M],["__scopeId","data-v-5cf1e77a"]]);var O=x,B={name:"CurConverter",components:{CurrencySelector:U,InfoOutput:O},data(){return{initialCurrency:"USD",finalCurrency:"BTC",initialScope:0,finalScope:0}},methods:{saveInitialCurrency(e){this.initialCurrency=e,this.initialScope>0&&this.convert()},saveFinalCurrency(e){this.finalCurrency=e,this.initialScope>0&&this.convert()},inputFocus(){0===this.initialScope&&(this.initialScope="")},inputBlur(){""===this.initialScope&&(this.initialScope=0)},convert(){const e=new Map(this.$store.state.crypto);if(e.has(this.initialCurrency)||e.has(this.finalCurrency))if(!e.has(this.initialCurrency)&&e.has(this.finalCurrency)){let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.finalCurrency);fetch(t).then((e=>e.json())).then((e=>{let t=e[0].price_usd;if("USD"===this.initialCurrency)this.initialScope>1e4?this.highlighting():this.finalScope=(this.initialScope/t).toFixed(7);else{let e="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.initialCurrency+"/USD/"+this.initialScope;fetch(e).then((e=>e.json())).then((e=>{e.conversion_result>1e4?this.highlighting():this.finalScope=(e.conversion_result/t).toFixed(7)}))}}))}else if(e.has(this.initialCurrency)&&!e.has(this.finalCurrency)){let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.initialCurrency);fetch(t).then((e=>e.json())).then((e=>{let t=this.initialScope*e[0].price_usd;if(t>1e4)this.highlighting();else if("USD"===this.finalCurrency)this.finalScope=t.toFixed(4);else{let e="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.finalCurrency+"/USD/";fetch(e).then((e=>e.json())).then((e=>this.finalScope=(t/e.conversion_rate).toFixed(4)))}}))}else{let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.initialCurrency);fetch(t).then((e=>e.json())).then((t=>{let r=t[0].price_usd,i=this.initialScope*r;if(i>1e4)this.highlighting();else{let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.finalCurrency);fetch(t).then((e=>e.json())).then((e=>this.finalScope=(i/e[0].price_usd).toFixed(7)))}}))}else{let e="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.initialCurrency+"/"+this.finalCurrency+"/"+this.initialScope;fetch(e).then((e=>e.json())).then((e=>{if("USD"===this.initialCurrency)e.conversion_result>1e4?this.highlighting():this.finalScope=e.conversion_result.toFixed(4);else{let t="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.initialCurrency+"/USD/"+this.initialScope;fetch(t).then((e=>e.json())).then((t=>{t.conversion_result>1e4?this.highlighting():this.finalScope=e.conversion_result.toFixed(4)}))}}))}let t=document.querySelector(".restriction");t.style.color="rgb(65, 57, 57)"},highlighting(){let e=document.querySelector(".restriction");e.style.color="red",this.finalScope=0}}};const F=(0,u.Z)(B,[["render",_],["__scopeId","data-v-373c05f4"]]);var P=F;const j=e=>((0,n.dD)("data-v-3f8b28fe"),e=e(),(0,n.Cn)(),e),$=j((()=>(0,n._)("h4",null,"Current prices",-1))),T={class:"base-currency"},W=j((()=>(0,n._)("label",{for:"currency"},"Base currency",-1))),E=j((()=>(0,n._)("h5",null,"Target Currencies",-1))),H=["onClick"],A={class:"btn-wrapper"},z={key:0};function Z(e,t,r,c,s,o){const a=(0,n.up)("InfoOutput"),l=(0,n.up)("MyButton"),u=(0,n.up)("myButton"),d=(0,n.up)("AddCurModal"),h=(0,n.up)("DelModal");return(0,n.wg)(),(0,n.iD)(n.HY,null,[$,(0,n._)("article",T,[W,(0,n.wy)((0,n._)("select",{id:"currency","onUpdate:modelValue":t[0]||(t[0]=e=>s.baseCurrency=e),onChange:t[1]||(t[1]=(...e)=>o.getCurPrices&&o.getCurPrices(...e))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.baseCurrencies,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e},(0,p.zw)(e),1)))),128))],544),[[i.bM,s.baseCurrency]])]),(0,n._)("article",null,[E,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.prices,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e,class:"target"},[(0,n._)("p",{class:(0,p.C_)(["target-item",{added:s.added.includes(e.currency)}]),onClick:t=>o.showDelModal(e.currency)},(0,p.zw)(e.currency)+" in "+(0,p.zw)(s.baseCurrency),11,H),(0,n.Wm)(a,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,p.zw)(e.price),1)])),_:2},1024)])))),128)),(0,n._)("div",A,[(0,n.Wm)(l,{onClick:t[2]||(t[2]=e=>s.addCurMod=!0)},{default:(0,n.w5)((()=>[(0,n.Uk)("Add Currency")])),_:1}),(0,n.Wm)(u,{id:"update-btn",class:(0,p.C_)({"disabled-button":s.disabledUpdate}),onClick:o.update},{default:(0,n.w5)((()=>[(0,n.Uk)(" Update "),s.disabledUpdate?((0,n.wg)(),(0,n.iD)("span",z,(0,p.zw)(s.timer),1)):(0,n.kq)("",!0)])),_:1},8,["class","onClick"])]),s.addCurMod?((0,n.wg)(),(0,n.j4)(d,{key:0,onCurrencySelected:o.addCurrency,onPressClose:t[3]||(t[3]=e=>s.addCurMod=!1)},null,8,["onCurrencySelected"])):(0,n.kq)("",!0),s.delCurMod?((0,n.wg)(),(0,n.j4)(h,{key:1,toDel:s.toDel,onRemovePressed:o.delCurrency,onPressClose:t[4]||(t[4]=e=>s.delCurMod=!1)},null,8,["toDel","onRemovePressed"])):(0,n.kq)("",!0)])],64)}r(7658);function N(e,t,r,i,c,s){return(0,n.wg)(),(0,n.iD)("button",null,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var R={name:"MyButton"};const q=(0,u.Z)(R,[["render",N],["__scopeId","data-v-73c5fd5c"]]);var J=q;function Y(e,t,r,c,s,o){const a=(0,n.up)("CurrencySelector"),l=(0,n.up)("MyButton");return(0,n.wg)(),(0,n.iD)("div",{class:"background-mod",onClick:t[1]||(t[1]=(...e)=>o.close&&o.close(...e))},[(0,n._)("div",{class:"modal-window",onClick:t[0]||(t[0]=(0,i.iM)((()=>{}),["stop"]))},[(0,n.Wm)(a,{class:"selector-mod",onSelectCurrency:o.saveCurrancy},{default:(0,n.w5)((()=>[(0,n.Uk)("Choose currency")])),_:1},8,["onSelectCurrency"]),(0,n._)("div",null,[(0,n.Wm)(l,{class:"btn-mod",onClick:o.close},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"])])])])}var K={name:"AddCurModal",components:{CurrencySelector:U,MyButton:J},methods:{saveCurrancy(e){if(this.$emit("currencySelected",e),localStorage.getItem("addedCurrencies")){let t=JSON.parse(localStorage.getItem("addedCurrencies")),r=new Set(t);r.add(e),t=[...r],localStorage.setItem("addedCurrencies",JSON.stringify(t))}else{let t=[e];localStorage.setItem("addedCurrencies",JSON.stringify(t))}this.$emit("pressClose")},close(){this.$emit("pressClose")}}};const L=(0,u.Z)(K,[["render",Y],["__scopeId","data-v-8dd7dc98"]]);var V=L;function X(e,t,r,c,s,o){const a=(0,n.up)("MyButton");return(0,n.wg)(),(0,n.iD)("div",{class:"background-mod",onClick:t[1]||(t[1]=(...e)=>o.close&&o.close(...e))},[(0,n._)("div",{class:"modal-window",onClick:t[0]||(t[0]=(0,i.iM)((()=>{}),["stop"]))},[(0,n._)("p",null,"Do you want to remove "+(0,p.zw)(r.toDel)+" from Target Currencies?",1),(0,n._)("div",null,[(0,n.Wm)(a,{class:"btn-mod",onClick:o.removeFromLocalSt},{default:(0,n.w5)((()=>[(0,n.Uk)("Remove")])),_:1},8,["onClick"]),(0,n.Wm)(a,{class:"btn-mod",onClick:o.close},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"])])])])}var G={name:"DelModal",components:{MyButton:J},props:["toDel"],methods:{removeFromLocalSt(){this.$emit("removePressed",this.toDel);let e=JSON.parse(localStorage.getItem("addedCurrencies")),t=e.indexOf(this.toDel);e.splice(t,1),0===e.length?localStorage.removeItem("addedCurrencies"):localStorage.setItem("addedCurrencies",JSON.stringify(e)),this.$emit("pressClose")},close(){this.$emit("pressClose")}}};const Q=(0,u.Z)(G,[["render",X],["__scopeId","data-v-193e8efe"]]);var ee=Q,te={name:"CurrentPrices",components:{MyButton:J,InfoOutput:O,AddCurModal:V,DelModal:ee},data(){return{baseCurrencies:["USD","EUR","UAH"],baseCurrency:"USD",baseCurrencyInUsd:1,targetCurrencies:["USD","EUR","UAH"],targetCrypto:[["BTC",90],["ETH",80]],prices:[],added:[],curError:!1,addCurMod:!1,disabledUpdate:!1,timer:5,toDel:"",delCurMod:!1}},mounted(){this.checkAddedCur(),this.getCurPrices()},methods:{checkAddedCur(){if(localStorage.getItem("addedCurrencies")){this.added=JSON.parse(localStorage.getItem("addedCurrencies"));const e=new Map(this.$store.state.crypto);if(1===this.added.length){let t=this.added[0];e.has(t)?this.addSavedCrypto(e,t):this.targetCurrencies.push(t)}else this.added.forEach((t=>{e.has(t)?this.addSavedCrypto(e,t):this.targetCurrencies.push(t)}))}},getCurPrices(){this.prices=[];let e=1;this.targetCurrencies.forEach((t=>{let r="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+t+"/"+this.baseCurrency+"/";fetch(r).then((e=>e.json())).then((r=>{let i=r.conversion_rate.toFixed(7),n={};t!==this.baseCurrency&&(n.id=this.$store.state.currencies.indexOf(t),n.currency=t,n.price=i,this.prices.push(n)),"USD"===t&&(this.baseCurrencyInUsd=1/r.conversion_rate),e===this.targetCurrencies.length-1&&(this.curError=!1,this.getCryptoPrices()),e++})).catch((e=>{if(e){if(this.curError)return;this.curError=!0,this.getCryptoPrices()}}))}))},getCryptoPrices(){let e=new Map(this.targetCrypto),t=1;e.forEach(((r,i)=>{let n="https://api.coinlore.net/api/ticker/?id="+r;fetch(n).then((e=>e.json())).then((r=>{let n=(r[0].price_usd/this.baseCurrencyInUsd).toFixed(7),c={};c.id=this.$store.state.currencies.indexOf(i),c.currency=i,c.price=n,this.prices.push(c),t===e.size&&(this.prices=this.prices.sort(((e,t)=>e.id-t.id))),t++}))}))},addCurrency(e){const t=new Map(this.$store.state.crypto),r=new Map(this.targetCrypto);if(!r.has(e)&&!this.targetCurrencies.includes(e))if(this.added.push(e),t.has(e)){let r=t.get(e),i="https://api.coinlore.net/api/ticker/?id="+r;fetch(i).then((e=>e.json())).then((t=>{let r=(t[0].price_usd/this.baseCurrencyInUsd).toFixed(7),i={};i.id=this.$store.state.currencies.indexOf(e),i.currency=e,i.price=r,this.prices.push(i)}))}else{let t="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+e+"/"+this.baseCurrency+"/";fetch(t).then((e=>e.json())).then((t=>{let r=t.conversion_rate.toFixed(7),i={};i.id=this.$store.state.currencies.indexOf(e),i.currency=e,i.price=r,this.prices.push(i)}))}},addSavedCrypto(e,t){let r=e.get(t),i=[t,r];this.targetCrypto.push(i)},update(){this.checkAddedCur(),this.getCurPrices();const e=document.querySelector("#update-btn");e.disabled=!0,this.disabledUpdate=!0;let t=setInterval((()=>{this.timer--,this.timer<=0&&clearInterval(t)}),1e3);setTimeout(this.anableBtn,5e3,e),this.timer=5},anableBtn(e){e.disabled=!1,this.disabledUpdate=!1},showDelModal(e){this.added.includes(e)&&(this.toDel=e,this.delCurMod=!0)},delCurrency(e){let t;this.prices.forEach(((r,i)=>{r.currency===e&&(t=i)})),this.prices.splice(t,1)}}};const re=(0,u.Z)(te,[["render",Z],["__scopeId","data-v-3f8b28fe"]]);var ie=re,ne={name:"App",components:{MainTitle:h,CurConverter:P,CurrentPrices:ie}};const ce=(0,u.Z)(ne,[["render",o]]);var se=ce,oe=r(65),ae=(0,oe.MT)({state:{currencies:["USD","EUR","UAH","GBP","BTC","ETH","BNB","XRP"],crypto:[["BTC",90],["ETH",80],["BNB",2710],["XRP",58]]},getters:{},mutations:{},actions:{},modules:{}});(0,i.ri)(se).use(ae).mount("#app")}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var c=t[i]={exports:{}};return e[i](c,c.exports,r),c.exports}r.m=e,function(){var e=[];r.O=function(t,i,n,c){if(!i){var s=1/0;for(u=0;u<e.length;u++){i=e[u][0],n=e[u][1],c=e[u][2];for(var o=!0,a=0;a<i.length;a++)(!1&c||s>=c)&&Object.keys(r.O).every((function(e){return r.O[e](i[a])}))?i.splice(a--,1):(o=!1,c<s&&(s=c));if(o){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}c=c||0;for(var u=e.length;u>0&&e[u-1][2]>c;u--)e[u]=e[u-1];e[u]=[i,n,c]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,c,s=i[0],o=i[1],a=i[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(a)var u=a(r)}for(t&&t(i);l<s.length;l++)c=s[l],r.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return r.O(u)},i=self["webpackChunkllc"]=self["webpackChunkllc"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(2311)}));i=r.O(i)})();
//# sourceMappingURL=app.4edec4ec.js.map