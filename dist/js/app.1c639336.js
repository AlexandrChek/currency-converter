(function(){"use strict";var e={9831:function(e,t,r){var n=r(9242),i=r(3396);const c={class:"converter"},s={class:"current-prices"};function o(e,t,r,n,o,a){const l=(0,i.up)("MainTitle"),u=(0,i.up)("CurConverter"),d=(0,i.up)("CurrentPrices");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("header",null,[(0,i.Wm)(l)]),(0,i._)("main",null,[(0,i._)("section",c,[(0,i.Wm)(u)]),(0,i._)("section",s,[(0,i.Wm)(d)])]),(0,i._)("footer",null,[(0,i.Wm)(l)])],64)}function a(e,t,r,n,c,s){return(0,i.wg)(),(0,i.iD)("h2",null,"Light Currency Converter")}var l={name:"MainTitle"},u=r(89);const d=(0,u.Z)(l,[["render",a],["__scopeId","data-v-7097cc16"]]);var h=d,p=r(7139);const C=e=>((0,i.dD)("data-v-19004b20"),e=e(),(0,i.Cn)(),e),f=C((()=>(0,i._)("h4",null,"Currency converter",-1))),y={class:"scope"},v=C((()=>(0,i._)("label",{for:"initial-scope"},"Initial scope",-1))),g={class:"scope"},m=C((()=>(0,i._)("p",{class:"scope-label"},"Final scope",-1))),_=C((()=>(0,i._)("p",{class:"restriction"}," The final scope should not exceed $10,000! ",-1)));function S(e,t,r,c,s,o){const a=(0,i.up)("CurrencySelector"),l=(0,i.up)("InfoOutput");return(0,i.wg)(),(0,i.iD)(i.HY,null,[f,(0,i._)("article",null,[(0,i.Wm)(a,{defaultCurrency:s.initialCurrency,onSelectCurrency:o.saveInitialCurrency},{default:(0,i.w5)((()=>[(0,i.Uk)(" Initial currency ")])),_:1},8,["defaultCurrency","onSelectCurrency"]),(0,i.Wm)(a,{defaultCurrency:s.finalCurrency,onSelectCurrency:o.saveFinalCurrency},{default:(0,i.w5)((()=>[(0,i.Uk)(" Final currency ")])),_:1},8,["defaultCurrency","onSelectCurrency"])]),(0,i._)("article",null,[(0,i._)("div",y,[v,(0,i.wy)((0,i._)("input",{type:"text",id:"initial-scope","onUpdate:modelValue":t[0]||(t[0]=e=>s.initialScope=e),onInput:t[1]||(t[1]=(...e)=>o.checking&&o.checking(...e)),onFocus:t[2]||(t[2]=(...e)=>o.inputFocus&&o.inputFocus(...e)),onBlur:t[3]||(t[3]=(...e)=>o.inputBlur&&o.inputBlur(...e))},null,544),[[n.nr,s.initialScope]])]),(0,i._)("div",g,[m,(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,p.zw)(s.finalScope),1)])),_:1})]),_])],64)}const w={for:"currency"};function b(e,t,r,c,s,o){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("label",w,[(0,i.WI)(e.$slots,"default",{},void 0,!0)]),(0,i.wy)((0,i._)("select",{id:"currency","onUpdate:modelValue":t[0]||(t[0]=e=>s.currency=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.currencies,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e},(0,p.zw)(e),1)))),128))],512),[[n.bM,s.currency]])])}var k={name:"CurrencySelector",props:["defaultCurrency"],data(){return{currencies:this.$store.state.currencies,currency:this.defaultCurrency}},watch:{currency(e){this.$emit("selectCurrency",e)}}};const U=(0,u.Z)(k,[["render",b],["__scopeId","data-v-1460071f"]]);var D=U;function I(e,t,r,n,c,s){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])}var M={name:"InfoOutput"};const O=(0,u.Z)(M,[["render",I],["__scopeId","data-v-5cf1e77a"]]);var x=O,B={name:"CurConverter",components:{CurrencySelector:D,InfoOutput:x},data(){return{initialCurrency:"USD",finalCurrency:"BTC",initialScope:0,finalScope:0,curInUsd:0,cryptoInUsd:0}},methods:{saveInitialCurrency(e){this.initialCurrency=e,this.initialScope>0&&this.checking()},saveFinalCurrency(e){this.finalCurrency=e,this.initialScope>0&&this.checking()},inputFocus(){0===this.initialScope&&(this.initialScope="")},inputBlur(){""===this.initialScope&&(this.initialScope=0)},checking(){const e=new Map(this.$store.state.crypto);if(e.has(this.initialCurrency)){let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.initialCurrency);fetch(t).then((e=>e.json())).then((t=>{this.initialScope*t[0].price_usd>1e4?this.highlighting():(this.cryptoInUsd=this.initialScope*t[0].price_usd,this.convert(e))}))}else if("USD"===this.initialCurrency)this.initialScope>1e4?this.highlighting():this.convert(e);else{let t="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.initialCurrency+"/USD/"+this.initialScope;fetch(t).then((e=>e.json())).then((t=>{t.conversion_result>1e4?this.highlighting():(this.curInUsd=t.conversion_result,this.convert(e))}))}},convert(e){if(e.has(this.initialCurrency)||e.has(this.finalCurrency))if(!e.has(this.initialCurrency)&&e.has(this.finalCurrency)){let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.finalCurrency);"USD"===this.initialCurrency?fetch(t).then((e=>e.json())).then((e=>this.finalScope=(this.initialScope/e[0].price_usd).toFixed(7))):fetch(t).then((e=>e.json())).then((e=>this.finalScope=(this.curInUsd/e[0].price_usd).toFixed(7)))}else if(e.has(this.initialCurrency)&&!e.has(this.finalCurrency))if("USD"===this.finalCurrency)this.finalScope=this.cryptoInUsd.toFixed(4);else{let e="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.finalCurrency+"/USD/";fetch(e).then((e=>e.json())).then((e=>this.finalScope=(this.cryptoInUsd*e.conversion_rate).toFixed(4)))}else{let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.finalCurrency);fetch(t).then((e=>e.json())).then((e=>this.finalScope=(this.cryptoInUsd/e[0].price_usd).toFixed(7)))}else{let e="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.initialCurrency+"/"+this.finalCurrency+"/"+this.initialScope;fetch(e).then((e=>e.json())).then((e=>this.finalScope=e.conversion_result.toFixed(4)))}let t=document.querySelector(".restriction");t.style.color="rgb(65, 57, 57)"},highlighting(){let e=document.querySelector(".restriction");e.style.color="red"}}};const F=(0,u.Z)(B,[["render",S],["__scopeId","data-v-19004b20"]]);var P=F;const j=e=>((0,i.dD)("data-v-3f8b28fe"),e=e(),(0,i.Cn)(),e),$=j((()=>(0,i._)("h4",null,"Current prices",-1))),T={class:"base-currency"},W=j((()=>(0,i._)("label",{for:"currency"},"Base currency",-1))),E=j((()=>(0,i._)("h5",null,"Target Currencies",-1))),H=["onClick"],A={class:"btn-wrapper"},z={key:0};function Z(e,t,r,c,s,o){const a=(0,i.up)("InfoOutput"),l=(0,i.up)("MyButton"),u=(0,i.up)("myButton"),d=(0,i.up)("AddCurModal"),h=(0,i.up)("DelModal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[$,(0,i._)("article",T,[W,(0,i.wy)((0,i._)("select",{id:"currency","onUpdate:modelValue":t[0]||(t[0]=e=>s.baseCurrency=e),onChange:t[1]||(t[1]=(...e)=>o.getCurPrices&&o.getCurPrices(...e))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.baseCurrencies,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e},(0,p.zw)(e),1)))),128))],544),[[n.bM,s.baseCurrency]])]),(0,i._)("article",null,[E,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.prices,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e,class:"target"},[(0,i._)("p",{class:(0,p.C_)(["target-item",{added:s.added.includes(e.currency)}]),onClick:t=>o.showDelModal(e.currency)},(0,p.zw)(e.currency)+" in "+(0,p.zw)(s.baseCurrency),11,H),(0,i.Wm)(a,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,p.zw)(e.price),1)])),_:2},1024)])))),128)),(0,i._)("div",A,[(0,i.Wm)(l,{onClick:t[2]||(t[2]=e=>s.addCurMod=!0)},{default:(0,i.w5)((()=>[(0,i.Uk)("Add Currency")])),_:1}),(0,i.Wm)(u,{id:"update-btn",class:(0,p.C_)({"disabled-button":s.disabledUpdate}),onClick:o.update},{default:(0,i.w5)((()=>[(0,i.Uk)(" Update "),s.disabledUpdate?((0,i.wg)(),(0,i.iD)("span",z,(0,p.zw)(s.timer),1)):(0,i.kq)("",!0)])),_:1},8,["class","onClick"])]),s.addCurMod?((0,i.wg)(),(0,i.j4)(d,{key:0,onCurrencySelected:o.addCurrency,onPressClose:t[3]||(t[3]=e=>s.addCurMod=!1)},null,8,["onCurrencySelected"])):(0,i.kq)("",!0),s.delCurMod?((0,i.wg)(),(0,i.j4)(h,{key:1,toDel:s.toDel,onRemovePressed:o.delCurrency,onPressClose:t[4]||(t[4]=e=>s.delCurMod=!1)},null,8,["toDel","onRemovePressed"])):(0,i.kq)("",!0)])],64)}r(7658);function N(e,t,r,n,c,s){return(0,i.wg)(),(0,i.iD)("button",null,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])}var R={name:"MyButton"};const q=(0,u.Z)(R,[["render",N],["__scopeId","data-v-73c5fd5c"]]);var J=q;function Y(e,t,r,c,s,o){const a=(0,i.up)("CurrencySelector"),l=(0,i.up)("MyButton");return(0,i.wg)(),(0,i.iD)("div",{class:"background-mod",onClick:t[1]||(t[1]=(...e)=>o.close&&o.close(...e))},[(0,i._)("div",{class:"modal-window",onClick:t[0]||(t[0]=(0,n.iM)((()=>{}),["stop"]))},[(0,i.Wm)(a,{class:"selector-mod",onSelectCurrency:o.saveCurrancy},{default:(0,i.w5)((()=>[(0,i.Uk)("Choose currency")])),_:1},8,["onSelectCurrency"]),(0,i._)("div",null,[(0,i.Wm)(l,{class:"btn-mod",onClick:o.close},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1},8,["onClick"])])])])}var K={name:"AddCurModal",components:{CurrencySelector:D,MyButton:J},methods:{saveCurrancy(e){if(this.$emit("currencySelected",e),localStorage.getItem("addedCurrencies")){let t=JSON.parse(localStorage.getItem("addedCurrencies")),r=new Set(t);r.add(e),t=[...r],localStorage.setItem("addedCurrencies",JSON.stringify(t))}else{let t=[e];localStorage.setItem("addedCurrencies",JSON.stringify(t))}this.$emit("pressClose")},close(){this.$emit("pressClose")}}};const L=(0,u.Z)(K,[["render",Y],["__scopeId","data-v-8dd7dc98"]]);var V=L;function X(e,t,r,c,s,o){const a=(0,i.up)("MyButton");return(0,i.wg)(),(0,i.iD)("div",{class:"background-mod",onClick:t[1]||(t[1]=(...e)=>o.close&&o.close(...e))},[(0,i._)("div",{class:"modal-window",onClick:t[0]||(t[0]=(0,n.iM)((()=>{}),["stop"]))},[(0,i._)("p",null,"Do you want to remove "+(0,p.zw)(r.toDel)+" from Target Currencies?",1),(0,i._)("div",null,[(0,i.Wm)(a,{class:"btn-mod",onClick:o.removeFromLocalSt},{default:(0,i.w5)((()=>[(0,i.Uk)("Remove")])),_:1},8,["onClick"]),(0,i.Wm)(a,{class:"btn-mod",onClick:o.close},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1},8,["onClick"])])])])}var G={name:"DelModal",components:{MyButton:J},props:["toDel"],methods:{removeFromLocalSt(){this.$emit("removePressed",this.toDel);let e=JSON.parse(localStorage.getItem("addedCurrencies")),t=e.indexOf(this.toDel);e.splice(t,1),0===e.length?localStorage.removeItem("addedCurrencies"):localStorage.setItem("addedCurrencies",JSON.stringify(e)),this.$emit("pressClose")},close(){this.$emit("pressClose")}}};const Q=(0,u.Z)(G,[["render",X],["__scopeId","data-v-193e8efe"]]);var ee=Q,te={name:"CurrentPrices",components:{MyButton:J,InfoOutput:x,AddCurModal:V,DelModal:ee},data(){return{baseCurrencies:["USD","EUR","UAH"],baseCurrency:"USD",baseCurrencyInUsd:1,targetCurrencies:["USD","EUR","UAH"],targetCrypto:[["BTC",90],["ETH",80]],prices:[],added:[],curError:!1,addCurMod:!1,disabledUpdate:!1,timer:5,toDel:"",delCurMod:!1}},mounted(){this.checkAddedCur(),this.getCurPrices()},methods:{checkAddedCur(){if(localStorage.getItem("addedCurrencies")){this.added=JSON.parse(localStorage.getItem("addedCurrencies"));const e=new Map(this.$store.state.crypto);if(1===this.added.length){let t=this.added[0];e.has(t)?this.addSavedCrypto(e,t):this.targetCurrencies.push(t)}else this.added.forEach((t=>{e.has(t)?this.addSavedCrypto(e,t):this.targetCurrencies.push(t)}))}},getCurPrices(){this.prices=[];let e=1;this.targetCurrencies.forEach((t=>{let r="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+t+"/"+this.baseCurrency+"/";fetch(r).then((e=>e.json())).then((r=>{let n=r.conversion_rate.toFixed(7),i={};t!==this.baseCurrency&&(i.id=this.$store.state.currencies.indexOf(t),i.currency=t,i.price=n,this.prices.push(i)),"USD"===t&&(this.baseCurrencyInUsd=1/r.conversion_rate),e===this.targetCurrencies.length-1&&(this.curError=!1,this.getCryptoPrices()),e++})).catch((e=>{if(e){if(this.curError)return;this.curError=!0,this.getCryptoPrices()}}))}))},getCryptoPrices(){let e=new Map(this.targetCrypto),t=1;e.forEach(((r,n)=>{let i="https://api.coinlore.net/api/ticker/?id="+r;fetch(i).then((e=>e.json())).then((r=>{let i=(r[0].price_usd/this.baseCurrencyInUsd).toFixed(7),c={};c.id=this.$store.state.currencies.indexOf(n),c.currency=n,c.price=i,this.prices.push(c),t===e.size&&(this.prices=this.prices.sort(((e,t)=>e.id-t.id))),t++}))}))},addCurrency(e){const t=new Map(this.$store.state.crypto),r=new Map(this.targetCrypto);if(!r.has(e)&&!this.targetCurrencies.includes(e))if(this.added.push(e),t.has(e)){let r=t.get(e),n="https://api.coinlore.net/api/ticker/?id="+r;fetch(n).then((e=>e.json())).then((t=>{let r=(t[0].price_usd/this.baseCurrencyInUsd).toFixed(7),n={};n.id=this.$store.state.currencies.indexOf(e),n.currency=e,n.price=r,this.prices.push(n)}))}else{let t="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+e+"/"+this.baseCurrency+"/";fetch(t).then((e=>e.json())).then((t=>{let r=t.conversion_rate.toFixed(7),n={};n.id=this.$store.state.currencies.indexOf(e),n.currency=e,n.price=r,this.prices.push(n)}))}},addSavedCrypto(e,t){let r=e.get(t),n=[t,r];this.targetCrypto.push(n)},update(){this.checkAddedCur(),this.getCurPrices();const e=document.querySelector("#update-btn");e.disabled=!0,this.disabledUpdate=!0;let t=setInterval((()=>{this.timer--,this.timer<=0&&clearInterval(t)}),1e3);setTimeout(this.anableBtn,5e3,e),this.timer=5},anableBtn(e){e.disabled=!1,this.disabledUpdate=!1},showDelModal(e){this.added.includes(e)&&(this.toDel=e,this.delCurMod=!0)},delCurrency(e){let t;this.prices.forEach(((r,n)=>{r.currency===e&&(t=n)})),this.prices.splice(t,1)}}};const re=(0,u.Z)(te,[["render",Z],["__scopeId","data-v-3f8b28fe"]]);var ne=re,ie={name:"App",components:{MainTitle:h,CurConverter:P,CurrentPrices:ne}};const ce=(0,u.Z)(ie,[["render",o]]);var se=ce,oe=r(65),ae=(0,oe.MT)({state:{currencies:["USD","EUR","UAH","GBP","BTC","ETH","BNB","XRP"],crypto:[["BTC",90],["ETH",80],["BNB",2710],["XRP",58]]},getters:{},mutations:{},actions:{},modules:{}});(0,n.ri)(se).use(ae).mount("#app")}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,r),c.exports}r.m=e,function(){var e=[];r.O=function(t,n,i,c){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],c=e[u][2];for(var o=!0,a=0;a<n.length;a++)(!1&c||s>=c)&&Object.keys(r.O).every((function(e){return r.O[e](n[a])}))?n.splice(a--,1):(o=!1,c<s&&(s=c));if(o){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}c=c||0;for(var u=e.length;u>0&&e[u-1][2]>c;u--)e[u]=e[u-1];e[u]=[n,i,c]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,c,s=n[0],o=n[1],a=n[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(a)var u=a(r)}for(t&&t(n);l<s.length;l++)c=s[l],r.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return r.O(u)},n=self["webpackChunkllc"]=self["webpackChunkllc"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(9831)}));n=r.O(n)})();
//# sourceMappingURL=app.1c639336.js.map