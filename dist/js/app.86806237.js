(function(){"use strict";var e={377:function(e,t,r){var n=r(9242),i=r(3396);const c={class:"converter"},s={class:"current-prices"};function a(e,t,r,n,a,o){const u=(0,i.up)("MainTitle"),l=(0,i.up)("CurConverter"),d=(0,i.up)("CurrentPrices");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("header",null,[(0,i.Wm)(u)]),(0,i._)("main",null,[(0,i._)("section",c,[(0,i.Wm)(l)]),(0,i._)("section",s,[(0,i.Wm)(d)])]),(0,i._)("footer",null,[(0,i.Wm)(u)])],64)}function o(e,t,r,n,c,s){return(0,i.wg)(),(0,i.iD)("h2",null,"Light Currency Converter")}var u={name:"MainTitle"},l=r(89);const d=(0,l.Z)(u,[["render",o],["__scopeId","data-v-7097cc16"]]);var h=d,p=r(7139);const C=e=>((0,i.dD)("data-v-4270fe10"),e=e(),(0,i.Cn)(),e),y=C((()=>(0,i._)("h4",null,"Currency converter",-1))),f={class:"scope"},g=C((()=>(0,i._)("label",{for:"initial-scope"},"Initial scope",-1))),v={class:"scope"},S=C((()=>(0,i._)("p",{class:"scope-label"},"Final scope",-1))),_={class:"final-scope"},m=C((()=>(0,i._)("p",{class:"restriction"}," The final scope should not exceed $10,000! ",-1)));function b(e,t,r,c,s,a){const o=(0,i.up)("CurrencySelector");return(0,i.wg)(),(0,i.iD)(i.HY,null,[y,(0,i._)("article",null,[(0,i.Wm)(o,{defaultCurrency:s.initialCurrency,onSelectCurrency:a.saveInitialCurrency},{default:(0,i.w5)((()=>[(0,i.Uk)(" Initial currency ")])),_:1},8,["defaultCurrency","onSelectCurrency"]),(0,i.Wm)(o,{defaultCurrency:s.finalCurrency,onSelectCurrency:a.saveFinalCurrency},{default:(0,i.w5)((()=>[(0,i.Uk)(" Final currency ")])),_:1},8,["defaultCurrency","onSelectCurrency"])]),(0,i._)("article",null,[(0,i._)("div",f,[g,(0,i.wy)((0,i._)("input",{type:"text",id:"initial-scope","onUpdate:modelValue":t[0]||(t[0]=e=>s.initialScope=e),onInput:t[1]||(t[1]=(...e)=>a.checking&&a.checking(...e)),onFocus:t[2]||(t[2]=(...e)=>a.inputFocus&&a.inputFocus(...e)),onBlur:t[3]||(t[3]=(...e)=>a.inputBlur&&a.inputBlur(...e))},null,544),[[n.nr,s.initialScope]])]),(0,i._)("div",v,[S,(0,i._)("div",_,(0,p.zw)(s.finalScope),1)]),m])],64)}const w={for:"currency"};function U(e,t,r,c,s,a){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("label",w,[(0,i.WI)(e.$slots,"default",{},void 0,!0)]),(0,i.wy)((0,i._)("select",{id:"currency","onUpdate:modelValue":t[0]||(t[0]=e=>s.currency=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.currencies,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e},(0,p.zw)(e),1)))),128))],512),[[n.bM,s.currency]])])}var k={name:"CurrencySelector",props:["defaultCurrency"],data(){return{currencies:this.$store.state.currencies,currency:this.defaultCurrency}},watch:{currency(e){this.$emit("selectCurrency",e)}}};const I=(0,l.Z)(k,[["render",U],["__scopeId","data-v-1460071f"]]);var D=I,x={name:"CurConverter",components:{CurrencySelector:D},data(){return{initialCurrency:"USD",finalCurrency:"BTC",initialScope:0,finalScope:0,curInUsd:0,cryptoInUsd:0}},methods:{saveInitialCurrency(e){this.initialCurrency=e,this.initialScope>0&&this.checking()},saveFinalCurrency(e){this.finalCurrency=e,this.initialScope>0&&this.checking()},inputFocus(){0===this.initialScope&&(this.initialScope="")},inputBlur(){""===this.initialScope&&(this.initialScope=0)},checking(){const e=new Map(this.$store.state.crypto);if(e.has(this.initialCurrency)){let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.initialCurrency);fetch(t).then((e=>e.json())).then((t=>{this.initialScope*t[0].price_usd>1e4?this.highlighting():(this.cryptoInUsd=this.initialScope*t[0].price_usd,this.convert(e))}))}else if("USD"===this.initialCurrency)this.initialScope>1e4?this.highlighting():this.convert(e);else{let t="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.initialCurrency+"/USD/"+this.initialScope;fetch(t).then((e=>e.json())).then((t=>{t.conversion_result>1e4?this.highlighting():(this.curInUsd=t.conversion_result,this.convert(e))}))}},convert(e){if(e.has(this.initialCurrency)||e.has(this.finalCurrency))if(!e.has(this.initialCurrency)&&e.has(this.finalCurrency)){let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.finalCurrency);"USD"===this.initialCurrency?fetch(t).then((e=>e.json())).then((e=>this.finalScope=(this.initialScope/e[0].price_usd).toFixed(7))):fetch(t).then((e=>e.json())).then((e=>this.finalScope=(this.curInUsd/e[0].price_usd).toFixed(7)))}else if(e.has(this.initialCurrency)&&!e.has(this.finalCurrency))if("USD"===this.finalCurrency)this.finalScope=this.cryptoInUsd.toFixed(4);else{let e="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.finalCurrency+"/USD/";fetch(e).then((e=>e.json())).then((e=>this.finalScope=(this.cryptoInUsd*e.conversion_rate).toFixed(4)))}else{let t="https://api.coinlore.net/api/ticker/?id="+e.get(this.finalCurrency);fetch(t).then((e=>e.json())).then((e=>this.finalScope=(this.cryptoInUsd/e[0].price_usd).toFixed(7)))}else{let e="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+this.initialCurrency+"/"+this.finalCurrency+"/"+this.initialScope;fetch(e).then((e=>e.json())).then((e=>this.finalScope=e.conversion_result.toFixed(4)))}let t=document.querySelector(".restriction");t.style.color="rgb(65, 57, 57)"},highlighting(){let e=document.querySelector(".restriction");e.style.color="red"}}};const M=(0,l.Z)(x,[["render",b],["__scopeId","data-v-4270fe10"]]);var B=M;const F=e=>((0,i.dD)("data-v-74c32583"),e=e(),(0,i.Cn)(),e),O=F((()=>(0,i._)("h4",null,"Current prices",-1))),j={class:"base-currency"},P=F((()=>(0,i._)("label",{for:"currency"},"Base currency",-1))),T=F((()=>(0,i._)("h5",null,"Target Currencies",-1))),$={class:"target-item"},E={class:"price"},H={class:"btn-wrapper"};function W(e,t,r,c,s,a){const o=(0,i.up)("MyButton"),u=(0,i.up)("myButton"),l=(0,i.up)("AddCurModal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[O,(0,i._)("article",j,[P,(0,i.wy)((0,i._)("select",{id:"currency","onUpdate:modelValue":t[0]||(t[0]=e=>s.baseCurrency=e),onChange:t[1]||(t[1]=(...e)=>a.getCurPrices&&a.getCurPrices(...e))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.baseCurrencies,(e=>((0,i.wg)(),(0,i.iD)("option",{key:e},(0,p.zw)(e),1)))),128))],544),[[n.bM,s.baseCurrency]])]),(0,i._)("article",null,[T,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.prices,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e,class:"target"},[(0,i._)("p",$,(0,p.zw)(e.currency)+" in "+(0,p.zw)(s.baseCurrency),1),(0,i._)("div",E,(0,p.zw)(e.price),1)])))),128)),(0,i._)("div",H,[(0,i.Wm)(o,{onClick:t[2]||(t[2]=e=>s.addCurMod=!0)},{default:(0,i.w5)((()=>[(0,i.Uk)("Add Currency")])),_:1}),(0,i.Wm)(u,{id:"update-btn",class:(0,p.C_)({"disabled-button":s.disabledUpdate}),onClick:a.update},{default:(0,i.w5)((()=>[(0,i.Uk)("Update")])),_:1},8,["class","onClick"])]),s.addCurMod?((0,i.wg)(),(0,i.j4)(l,{key:0,onCurrencySelected:a.addCurrency,onPressClose:t[3]||(t[3]=e=>s.addCurMod=!1)},null,8,["onCurrencySelected"])):(0,i.kq)("",!0)])],64)}r(7658);function A(e,t,r,n,c,s){return(0,i.wg)(),(0,i.iD)("button",null,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])}var Z={name:"MyButton"};const z=(0,l.Z)(Z,[["render",A],["__scopeId","data-v-73c5fd5c"]]);var N=z;function Y(e,t,r,c,s,a){const o=(0,i.up)("CurrencySelector"),u=(0,i.up)("MyButton");return(0,i.wg)(),(0,i.iD)("div",{class:"background-mod",onClick:t[1]||(t[1]=(...e)=>a.close&&a.close(...e))},[(0,i._)("div",{class:"modal-window",onClick:t[0]||(t[0]=(0,n.iM)((()=>{}),["stop"]))},[(0,i.Wm)(o,{class:"selector-mod",onSelectCurrency:a.saveCurrancy},{default:(0,i.w5)((()=>[(0,i.Uk)("Choose currency")])),_:1},8,["onSelectCurrency"]),(0,i._)("div",null,[(0,i.Wm)(u,{class:"btn-mod",onClick:a.close},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1},8,["onClick"])])])])}var R={name:"AddCurModal",components:{CurrencySelector:D,MyButton:N},methods:{saveCurrancy(e){if(this.$emit("currencySelected",e),localStorage.getItem("addedCurrencies")){let t=JSON.parse(localStorage.getItem("addedCurrencies")),r=new Set(t);r.add(e),t=[...r],localStorage.setItem("addedCurrencies",JSON.stringify(t))}else{let t=[e];localStorage.setItem("addedCurrencies",JSON.stringify(t))}this.$emit("pressClose")},close(){this.$emit("pressClose")}}};const q=(0,l.Z)(R,[["render",Y],["__scopeId","data-v-04ba4b4d"]]);var J=q,K={name:"CurrentPrices",components:{MyButton:N,AddCurModal:J},data(){return{baseCurrencies:["USD","EUR","UAH"],baseCurrency:"USD",baseCurrencyInUsd:1,targetCurrencies:["USD","EUR","UAH"],targetCrypto:[["BTC",90],["ETH",80]],prices:[],curError:!1,addCurMod:!1,disabledUpdate:!1}},mounted(){this.checkAddedCur(),this.getCurPrices()},methods:{checkAddedCur(){if(localStorage.getItem("addedCurrencies")){let e=JSON.parse(localStorage.getItem("addedCurrencies"));const t=new Map(this.$store.state.crypto);if(1===e.length){let r=e[0];t.has(r)?this.addSavedCrypto(t,r):this.targetCurrencies.push(r)}else e.forEach((e=>{t.has(e)?this.addSavedCrypto(t,e):this.targetCurrencies.push(e)}))}},getCurPrices(){this.prices=[],this.targetCurrencies.forEach((e=>{let t="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+e+"/"+this.baseCurrency+"/";fetch(t).then((e=>e.json())).then((t=>{let r=t.conversion_rate.toFixed(7),n={};n.id=this.$store.state.currencies.indexOf(e),n.currency=e,n.price=r,this.prices.push(n),"USD"===e&&(this.baseCurrencyInUsd=1/t.conversion_rate,this.getCryptoPrices()),this.prices.length===this.targetCurrencies.length+this.targetCrypto.length&&(this.prices=this.prices.sort(((e,t)=>e.id-t.id)))})).catch((e=>{if(e){if(this.curError)return;this.curError=!0,this.getCryptoPrices()}}))}))},getCryptoPrices(){let e=new Map(this.targetCrypto);e.forEach(((e,t)=>{let r="https://api.coinlore.net/api/ticker/?id="+e;fetch(r).then((e=>e.json())).then((e=>{let r=(e[0].price_usd/this.baseCurrencyInUsd).toFixed(7),n={};n.id=this.$store.state.currencies.indexOf(t),n.currency=t,n.price=r,this.prices.push(n),this.prices.length===this.targetCurrencies.length+this.targetCrypto.length&&(this.prices=this.prices.sort(((e,t)=>e.id-t.id)))}))}))},addCurrency(e){const t=new Map(this.$store.state.crypto),r=new Map(this.targetCrypto),n=new Set(this.targetCurrencies);if(!r.has(e)&&!n.has(e))if(t.has(e)){let r=t.get(e),n="https://api.coinlore.net/api/ticker/?id="+r;fetch(n).then((e=>e.json())).then((t=>{let r=(t[0].price_usd/this.baseCurrencyInUsd).toFixed(7),n={};n.id=this.$store.state.currencies.indexOf(e),n.currency=e,n.price=r,this.prices.push(n)}))}else{let t="https://v6.exchangerate-api.com/v6/1a0696dec132d55ac8c41644/pair/"+e+"/"+this.baseCurrency+"/";fetch(t).then((e=>e.json())).then((t=>{let r=t.conversion_rate.toFixed(7),n={};n.id=this.$store.state.currencies.indexOf(e),n.currency=e,n.price=r,this.prices.push(n)}))}},addSavedCrypto(e,t){let r=e.get(t),n=[t,r];this.targetCrypto.push(n)},update(){this.checkAddedCur(),this.getCurPrices();const e=document.querySelector("#update-btn");e.disabled=!0,this.disabledUpdate=!0,setTimeout(this.anableBtn,5e3,e)},anableBtn(e){e.disabled=!1,this.disabledUpdate=!1}}};const V=(0,l.Z)(K,[["render",W],["__scopeId","data-v-74c32583"]]);var X=V,G={name:"App",components:{MainTitle:h,CurConverter:B,CurrentPrices:X}};const L=(0,l.Z)(G,[["render",a]]);var Q=L,ee=r(65),te=(0,ee.MT)({state:{currencies:["USD","EUR","UAH","GBP","BTC","ETH","BNB","XRP"],crypto:[["BTC",90],["ETH",80],["BNB",2710],["XRP",58]]},getters:{},mutations:{},actions:{},modules:{}});(0,n.ri)(Q).use(te).mount("#app")}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,r),c.exports}r.m=e,function(){var e=[];r.O=function(t,n,i,c){if(!n){var s=1/0;for(l=0;l<e.length;l++){n=e[l][0],i=e[l][1],c=e[l][2];for(var a=!0,o=0;o<n.length;o++)(!1&c||s>=c)&&Object.keys(r.O).every((function(e){return r.O[e](n[o])}))?n.splice(o--,1):(a=!1,c<s&&(s=c));if(a){e.splice(l--,1);var u=i();void 0!==u&&(t=u)}}return t}c=c||0;for(var l=e.length;l>0&&e[l-1][2]>c;l--)e[l]=e[l-1];e[l]=[n,i,c]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,c,s=n[0],a=n[1],o=n[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(o)var l=o(r)}for(t&&t(n);u<s.length;u++)c=s[u],r.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return r.O(l)},n=self["webpackChunkllc"]=self["webpackChunkllc"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(377)}));n=r.O(n)})();
//# sourceMappingURL=app.86806237.js.map